<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InstantRec Mockup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* Custom iOS-like toggle */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #34C759;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #34C759;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 5px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Ensure content doesn't hide behind the fixed tab bar */
        .content-body {
            padding-bottom: 80px; /* Height of the tab bar */
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-black">

    <div class="max-w-md mx-auto h-screen bg-white dark:bg-black flex flex-col">
        <!-- Main Content Area -->
        <main class="flex-grow overflow-y-auto content-body">
            <!-- Screen 1: Recording (Default) -->
            <div id="screen-recording" class="h-full flex flex-col">
                <div class="flex-grow flex flex-col items-center justify-center text-center p-8 cursor-pointer" onclick="toggleRecording()">
                    <div id="status-area" class="mb-8">
                        <p id="status-text" class="text-2xl text-gray-500 dark:text-gray-400">Tap to Record</p>
                    </div>
                    <div id="audio-level-meter" class="w-full h-16 flex items-center justify-center space-x-1">
                        <!-- Placeholder for audio level meter -->
                        <div class="w-2 h-4 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
                        <div class="w-2 h-8 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
                        <div class="w-2 h-12 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
                        <div class="w-2 h-8 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
                        <div class="w-2 h-4 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
                    </div>
                </div>
                <div class="p-4 flex justify-center">
                    <button onclick="openModal('mode-select-sheet')" class="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-full flex items-center space-x-2">
                        <i class="fa-solid fa-sliders"></i>
                        <span id="current-mode-text">Balance</span>
                    </button>
                </div>
            </div>

            <!-- Screen 2: Recordings List -->
            <div id="screen-list" class="hidden">
                <div class="bg-white dark:bg-black sticky top-0 z-10 border-b border-gray-200 dark:border-gray-800">
                    <div class="flex justify-between items-center p-4">
                        <h1 class="text-xl font-bold dark:text-white">Recordings</h1>
                        <button class="text-blue-500">Edit</button>
                    </div>
                </div>
                <div class="p-4 space-y-3">
                    <!-- Recording Item 1 -->
                    <div class="bg-gray-100 dark:bg-gray-900 p-4 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="space-y-1">
                                <p class="font-semibold dark:text-white">Meeting with Team</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">3 minutes ago ・ 15:32</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <i class="fa-solid fa-cloud-arrow-up text-blue-500"></i>
                                <i class="fa-regular fa-star text-gray-400 cursor-pointer" onclick="toggleStar(this)"></i>
                            </div>
                        </div>
                        <div class="mt-3 flex items-center space-x-3">
                            <i class="fa-solid fa-play text-blue-500 cursor-pointer"></i>
                            <div class="w-full bg-gray-300 dark:bg-gray-700 rounded-full h-1.5">
                                <div class="bg-blue-500 h-1.5 rounded-full" style="width: 20%"></div>
                            </div>
                        </div>
                    </div>
                    <!-- Recording Item 2 -->
                    <div class="bg-gray-100 dark:bg-gray-900 p-4 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="space-y-1">
                                <p class="font-semibold dark:text-white">Voice Memo</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Yesterday ・ 02:11</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <i class="fa-solid fa-check text-green-500"></i>
                                <i class="fa-solid fa-star text-yellow-400 cursor-pointer" onclick="toggleStar(this)"></i>
                            </div>
                        </div>
                    </div>
                     <!-- Recording Item 3 -->
                    <div class="bg-gray-100 dark:bg-gray-900 p-4 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="space-y-1">
                                <p class="font-semibold dark:text-white">Lecture Recording</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Aug 8, 2025 ・ 58:14</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <i class="fa-solid fa-exclamation-triangle text-red-500"></i>
                                <i class="fa-regular fa-star text-gray-400 cursor-pointer" onclick="toggleStar(this)"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Screen 3: Settings -->
            <div id="screen-settings" class="hidden">
                 <div class="bg-white dark:bg-black sticky top-0 z-10 border-b border-gray-200 dark:border-gray-800">
                    <div class="p-4">
                        <h1 class="text-xl font-bold dark:text-white">Settings</h1>
                    </div>
                </div>
                <div class="p-4 space-y-6">
                    <!-- Recording Settings Group -->
                    <div>
                        <h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase px-4 mb-2">Recording</h2>
                        <div class="bg-gray-100 dark:bg-gray-900 rounded-lg">
                            <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-800">
                                <span class="dark:text-white">Start Mode</span>
                                <span class="text-gray-500 dark:text-gray-400">Instant <i class="fa-solid fa-chevron-right text-xs"></i></span>
                            </div>
                            <div class="flex justify-between items-center p-4">
                                <span class="text-gray-400 dark:text-gray-600">Countdown Time</span>
                                <span class="text-gray-400 dark:text-gray-600">3s</span>
                            </div>
                        </div>
                    </div>
                    <!-- Audio & AI Group -->
                    <div>
                        <h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase px-4 mb-2">Audio & AI</h2>
                        <div class="bg-gray-100 dark:bg-gray-900 rounded-lg">
                            <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-800">
                                <span class="dark:text-white">Noise Reduction</span>
                                <span class="text-gray-500 dark:text-gray-400">Off <i class="fa-solid fa-chevron-right text-xs"></i></span>
                            </div>
                            <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-800">
                                <label for="transcription-toggle" class="dark:text-white">Transcription (AI)</label>
                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                    <input type="checkbox" name="toggle" id="transcription-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" onchange="toggleAiModelVisibility()"/>
                                    <label for="transcription-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                </div>
                            </div>
                            <div id="ai-model-setting" class="hidden p-4">
                                <div class="flex justify-between items-center">
                                    <span class="dark:text-white">AI Model</span>
                                    <span class="text-gray-500 dark:text-gray-400">Base (Recommended) <i class="fa-solid fa-chevron-right text-xs"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Cloud Group -->
                    <div>
                        <h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase px-4 mb-2">Cloud</h2>
                        <div class="bg-gray-100 dark:bg-gray-900 rounded-lg">
                            <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-800">
                                <span class="dark:text-white">Google Drive</span>
                                <button class="text-blue-500 font-semibold">Sign In</button>
                            </div>
                             <div class="flex justify-between items-center p-4">
                                <label for="backup-toggle" class="dark:text-white">Automatic Backup</label>
                                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                    <input type="checkbox" name="toggle" id="backup-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                    <label for="backup-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Tab Bar -->
        <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-gray-100/80 dark:bg-gray-900/80 backdrop-blur-sm border-t border-gray-200 dark:border-gray-800 flex justify-around">
            <button onclick="switchTab('recording')" class="tab-button flex-1 p-4 text-center text-blue-500">
                <i class="fa-solid fa-microphone text-2xl"></i>
                <span class="block text-xs mt-1">Record</span>
            </button>
            <button onclick="switchTab('list')" class="tab-button flex-1 p-4 text-center text-gray-500 dark:text-gray-400">
                <i class="fa-solid fa-list-ul text-2xl"></i>
                <span class="block text-xs mt-1">List</span>
            </button>
            <button onclick="switchTab('settings')" class="tab-button flex-1 p-4 text-center text-gray-500 dark:text-gray-400">
                <i class="fa-solid fa-gear text-2xl"></i>
                <span class="block text-xs mt-1">Settings</span>
            </button>
        </nav>
    </div>

    <!-- Modal: Recording Mode Selection Sheet -->
    <div id="mode-select-sheet" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="closeAllModals()">
        <div class="absolute bottom-0 left-0 right-0 bg-gray-100 dark:bg-gray-900 rounded-t-2xl p-4 max-w-md mx-auto" onclick="event.stopPropagation()">
            <div class="w-10 h-1.5 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-4"></div>
            <h2 class="text-lg font-bold text-center mb-4 dark:text-white">Recording Mode</h2>
            <div class="space-y-2">
                <div class="bg-white dark:bg-gray-800 p-4 rounded-lg cursor-pointer" onclick="selectMode('Balance', this)">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-semibold dark:text-white">Balance</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">A versatile mode for all situations.</p>
                        </div>
                        <i class="fa-solid fa-check text-blue-500 mode-check"></i>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-4 rounded-lg cursor-pointer" onclick="selectMode('Conversation', this)">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-semibold dark:text-white">Conversation</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">Makes human voices clearer.</p>
                        </div>
                        <i class="fa-solid fa-check text-blue-500 mode-check hidden"></i>
                    </div>
                </div>
                 <div class="bg-white dark:bg-gray-800 p-4 rounded-lg cursor-pointer" onclick="selectMode('Narration', this)">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-semibold dark:text-white">Narration</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">High quality with minimal noise.</p>
                        </div>
                        <i class="fa-solid fa-check text-blue-500 mode-check hidden"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const screens = ['recording', 'list', 'settings'];
        const tabButtons = document.querySelectorAll('.tab-button');
        let isRecording = false;
        let timerInterval;

        // --- Tab Switching Logic ---
        function switchTab(targetScreen) {
            screens.forEach(screenId => {
                document.getElementById(`screen-${screenId}`).classList.add('hidden');
            });
            document.getElementById(`screen-${targetScreen}`).classList.remove('hidden');

            tabButtons.forEach(button => {
                button.classList.remove('text-blue-500');
                button.classList.add('text-gray-500', 'dark:text-gray-400');
            });
            const activeButton = document.querySelector(`button[onclick="switchTab('${targetScreen}')"]`);
            activeButton.classList.add('text-blue-500');
            activeButton.classList.remove('text-gray-500', 'dark:text-gray-400');
        }

        // --- Recording Screen Logic ---
        function toggleRecording() {
            isRecording = !isRecording;
            const statusText = document.getElementById('status-text');
            const audioMeter = document.getElementById('audio-level-meter');
            
            if (isRecording) {
                let seconds = 0;
                statusText.innerHTML = `<span class="text-5xl font-bold text-red-500">00:00</span>`;
                audioMeter.classList.add('recording-animation'); // Placeholder for animation
                
                // Animate meter bars
                const bars = audioMeter.querySelectorAll('div');
                bars.forEach(bar => bar.style.animation = 'pulse 1s infinite ease-in-out');
                
                timerInterval = setInterval(() => {
                    seconds++;
                    const minutes = Math.floor(seconds / 60).toString().padStart(2, '0');
                    const secs = (seconds % 60).toString().padStart(2, '0');
                    statusText.innerHTML = `<span class="text-5xl font-bold text-red-500">${minutes}:${secs}</span>`;
                }, 1000);
            } else {
                clearInterval(timerInterval);
                statusText.textContent = 'Tap to Record';
                statusText.className = 'text-2xl text-gray-500 dark:text-gray-400';
                audioMeter.classList.remove('recording-animation');
                 const bars = audioMeter.querySelectorAll('div');
                bars.forEach(bar => bar.style.animation = '');
            }
        }
        
        // Add a simple pulse animation for the meter
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes pulse {
                0%, 100% { transform: scaleY(0.5); background-color: #60a5fa; }
                50% { transform: scaleY(1); background-color: #2563eb; }
            }
        `;
        document.head.appendChild(style);


        // --- List Screen Logic ---
        function toggleStar(element) {
            element.classList.toggle('fa-regular');
            element.classList.toggle('fa-solid');
            element.classList.toggle('text-gray-400');
            element.classList.toggle('text-yellow-400');
        }

        // --- Settings Screen Logic ---
        function toggleAiModelVisibility() {
            const toggle = document.getElementById('transcription-toggle');
            const setting = document.getElementById('ai-model-setting');
            if (toggle.checked) {
                setting.classList.remove('hidden');
            } else {
                setting.classList.add('hidden');
            }
        }

        // --- Modal Logic ---
        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function closeAllModals() {
            document.querySelectorAll('.fixed.inset-0').forEach(modal => {
                modal.classList.add('hidden');
            });
        }
        
        function selectMode(modeName, selectedElement) {
            // Update the button text on the recording screen
            document.getElementById('current-mode-text').textContent = modeName;
            
            // Update checkmarks in the modal
            document.querySelectorAll('.mode-check').forEach(check => check.classList.add('hidden'));
            selectedElement.querySelector('.mode-check').classList.remove('hidden');
            
            // Close the modal after a short delay
            setTimeout(closeAllModals, 200);
        }

        // Initialize with the recording tab
        switchTab('recording');
    </script>
</body>
</html>
